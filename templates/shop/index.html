{% extends 'shop/basic.html' %}
{% block title %}Home{% endblock %}
{% block body %}

<style>
.d-block{
    width:1200px;
    height:530px;
}
#img{
    width: 280px;
    height: 300px;
}
#hori{
  border-top: 3px solid black;
  width: 100%;  
}
#horii{
  border-top: 3px solid grey;
  width: 100%;  
}
@media (max-width: 767px){
#img{
    width: 150px;
    height: 160px;
}
.mt-0{
    font-size:20px;
}
.card-title{
    font-size:15px;
}
#des{
    font-size:13px;
}
.d-block{
    width:700px;
    height:180px;

}
}
</style>




<div id="carouselExampleIndicators" class="carousel slide" data-bs-ride="carousel">
  <div class="carousel-indicators">
    <button type="button" data-bs-target="#carouselExampleIndicators" data-bs-slide-to="0" class="active" aria-current="true" aria-label="Slide 1"></button>
    <button type="button" data-bs-target="#carouselExampleIndicators" data-bs-slide-to="1" aria-label="Slide 2"></button>
    <button type="button" data-bs-target="#carouselExampleIndicators" data-bs-slide-to="2" aria-label="Slide 3"></button>
  </div>
  <div class="carousel-inner">
    <div class="carousel-item active">
      <img src="https://static.vecteezy.com/system/resources/previews/002/459/314/non_2x/shopping-online-store-for-sale-mobile-ecommerce-3d-blue-background-shop-online-on-mobile-app-24-hours-shopping-cart-credit-card-minimal-store-online-device-3d-rendered-free-vector.jpg" class="d-block w-100" alt="...">
    </div>
    <div class="carousel-item">
      <img src="https://ak.picdn.net/shutterstock/videos/2896216/thumb/7.jpg" class="d-block w-100" alt="...">
    </div>
    <div class="carousel-item">
      <img src="https://www.digitaldealer.com/wp-content/uploads/2017/11/Screen-Shot-2017-11-03-at-8.18.36-AM.png" class="d-block w-100" alt="...">
    </div>
  </div>
  <button class="carousel-control-prev" type="button" data-bs-target="#carouselExampleIndicators" data-bs-slide="prev">
    <span class="carousel-control-prev-icon" aria-hidden="true"></span>
    <span class="visually-hidden">Previous</span>
  </button>
  <button class="carousel-control-next" type="button" data-bs-target="#carouselExampleIndicators" data-bs-slide="next">
    <span class="carousel-control-next-icon" aria-hidden="true"></span>
    <span class="visually-hidden">Next</span>
  </button>
</div>


{% for prod in allprods %}
<style>
@media(max-width: 768px){
#cate{
  font-size: 17px;
}
#name{
  font-size:18px;
}
}
</style>



<style>
.bd-placeholder-img {
  text-anchor: middle;
  -webkit-user-select: none;
  -moz-user-select: none;
  user-select: none;
}

@media (min-width: 768px) {
  .bd-placeholder-img-lg {
    font-size: 3.5rem;
  }
}
</style>


<style>
#quantity{
width: 200px;
margin: 10px 10px 10px 10px;
}
#choose{
  margin: 10px 10px 10px 10px;
}
</style>



    <hr id="hori"></hr>
    <h5 id="cate">&nbsp;&nbsp;&bull;Newly Released <b><u>{{prod.0.category}}</u></b> Products</li></h5>
    <hr id="hori"></hr>


  <div class="album py-1 bg-light">
    <div class="cont mx-3">
      <div class="row row-cols-1 row-cols-sm-7 row-cols-md-3 g-3">
        
        {%for product in prod %}
        <div class="col">
          <div class="card shadow-sm">

            <div class="card-body">
              <img src="/media/{{product.image}}" width="100%">
              <p class="card-text" style="font-size:25px;">{{product.product_name}}</p>
              <div class="d-flex justify-content-between align-items-center">
                <div class="btn-group">
                  <a href="/shop/productview/{{product.id}}"><button type="button" class="btn btn-sm btn-outline-secondary">View</button></a>

                  <button type="button" class="btn btn-sm btn-outline-secondary" data-toggle="modal" data-target="#myModal{{product.id}}">Add to Cart</button>

                </div>
                <small class="text-muted" style="font-size:18px;">Price:-â‚¹{{product.price}}</small>
              </div>
            </div>
          </div>
        </div>




<div class="modal fade" id="myModal{{product.id}}" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
  <div class="modal-dialog" id="{{product.id}}" >
    <div class="modal-content" >
      <div class="modal-header">
        <h4 class="modal-title" id="myModalLabel">Quantity?</h4>
        <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
      </div>
{% if user.is_authenticated %}
    <form method="POST" action="/shop/">{% csrf_token %}
    <input type="hidden" name="cart_id" value="{{request.user.id}}">
    <input type="hidden" name="image_p" value="{{product.image}}">
    <input type="hidden" name="name_p" value="{{product.id}}">
    <input type="hidden" name="price_p" value="{{product.price}}">
    <input type="hidden" name="product_id" value="{{product.id}}">
    <input type="hidden" name="user_id" value="{{request.user.id}}"><br>
      <label for="quantity" id="choose"><h5>Please Choose quantity of the Item</h5></label><br>
       <select name="quantity" id="quantity">
          <option value="1">1</option>
          <option value="2">2</option>
          <option value="3">3</option>
          <option value="4">4</option>
          <option value="5">5</option>
          <option value="6">6</option>
          <option value="7">7</option>
          <option value="8">8</option>
          <option value="9">9</option>
          <option value="10">10</option>
       </select>
      <div class="modal-footer">
        <button type="submit" class="btn btn-dark" >Submit</button>
        </div>

</form>
{% endif %}


</div>
</div>
</div>
{% endfor %}
</div>
</div>
</div>


{% endfor %}

{% endblock %} 